# 观点类别#
> 类别不清楚可以先空着
----

## 观点#1
**描述**

- 代码编写未采用更适合的组件, 减少了可读性, 增加了代码量

**最佳实践**

- 纯数字输入框采用 fz-input-number 代替 fz-input

**示例**
> 来自输入框需求: 最小值为1,只可输入正整数

<font color=#FD4147>:-1: Bad</font>

```js
<fz-input
  type="number"
  :min="1"
  oninput="this.value = this.value=='0' ? '': this.value.replace(/[^\d]/g,'')"
/>
```

<font color=#00D09B>:+1: Good</font>

```js
<fz-input-number
  :min="1"
  step-strictly="true"
/>
```

# 观点类别#
> 类别不清楚可以先空着
----

## 观点#1
**描述**

- 开发时未考虑后续可能的拓展需求, 增加了维护成本和后续可能的工作量

**最佳实践**

- 对后续可能有选择框(select)需求的纯文本, 采用数组的形式

**示例**
> 来自客户端限速表单需求: 速度单位文本部分

<font color=#FD4147>:-1: Bad</font>

```js
<fz-form-model-item>
  <fz-input/>
  <span>MB/s</span>
</fz-form-model-item>
```

<font color=#00D09B>:+1: Good</font>

```js
<fz-form-model-item>
  <fz-input/>
  <span>{{ speedUnits[0] }}</span>
</fz-form-model-item>
<script>
  export default {
    data() {
      return {
        speedUnits: ['MB/s'],
      }
    },
  }
<script/>
```


# 观点类别#
> 类别不清楚可以先空着
----

## 观点#1
**描述**

- 相似组件未抽离, 增加了后续维护成本, 增加了开发工作量, 增加了风险可能, 使代码冗余

**最佳实践**

- 抽离类似/重复代码为子组件

**示例**
> 来自客户端限速表单需求: 正整数输入框

<font color=#FD4147>:-1: Bad</font>

```js
<fz-form-item :label="$t('upload_limit')" class="form-label">
  <fz-input-number
    v-decorator="['upload']"
    :min="1"
    step-strictly="true"
    class="form-limit-input"
    :placeholder="$t('input_positive_integer')"
    :controls="controls"
  />
  <span class="ant-form-text form-text">{{ speedUnits[0] }}</span>
</fz-form-item>
<fz-form-item :label="$t('download_limit')" class="form-label">
  <fz-input-number
    v-decorator="['download']"
    step-strictly="true"
    :min="1"
    class="form-limit-input"
    :placeholder="$t('input_positive_integer')"
    :controls="controls"
  />
  <span class="ant-form-text form-text">{{ speedUnits[0] }}</span>
</fz-form-item>
```

<font color=#00D09B>:+1: Good</font>

```js
// 子组件
<template>
  <fz-form-item :label="label" class="form-label">
    <fz-input-number
      v-decorator="[name]"
      :min="1"
      step-strictly="true"
      class="form-limit-input"
      :placeholder="$t('input_positive_integer')"
      :controls="false"
    />
    <span class="ant-form-text form-text">{{ unit }}</span>
  </fz-form-item>
</template>
<script>
export default {
  name: 'LimitInput',
  props: {
    label: {
      type: String,
      required: true,
    },
    name: {
      type: String,
      required: true,
    },
    unit: {
      type: String,
      required: true,
    },
  },
}
</script>


// 父组件调用
<LimitInput :label="$t('upload_limit')" name="upload" :unit="speedUnits[0]" />
<LimitInput :label="$t('download_limit')" name="download" :unit="speedUnits[0]" />
```

# 观点类别#
逻辑可读性#C
----

## 观点#1
**描述**

- 多余的if-else判断, 未有效利用三元表达式和短路

**最佳实践**

- 采用短路或三元表达式精简代码, 增加可读性

**示例**
> 来自客户端限速表单需求: 根据功能是否勾选判断提交内容, 接口要求数字, 需要处理 '' 和 undefined

<font color=#FD4147>:-1: Bad</font>

```js
if (this.checkClientLimit) {
  const speedlimitConfig=this.$refs.clientSpeedLimit.getVal()
  postData.push({
    configItem: 'members_speed',
    value: {
      default_download_threshold: speedlimitConfig.download ? speedlimitConfig.download  : 0,
      default_upload_threshold: speedlimitConfig.upload  ? speedlimitConfig.upload  : 0,
    },
  })
} else {
  postData.push({
    configItem: 'members_speed',
    value: {
      default_download_threshold: 0,
      default_upload_threshold: 0,
    },
  })
}
```

<font color=#00D09B>:+1: Good</font>

```js
const speedlimitConfig = this.checkClientLimit ? this.$refs.clientSpeedLimit.getVal() : {}
postData.push({
  configItem: 'members_speed',
  value: {
    default_download_threshold: speedlimitConfig.download || 0,
    default_upload_threshold: speedlimitConfig.upload || 0,
  },
})

```